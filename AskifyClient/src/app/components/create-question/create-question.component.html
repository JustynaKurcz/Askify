<form [formGroup]="questionForm" (ngSubmit)="onSubmit()" class="question-form">
  <div class="form-field">
    <div class="field-label">
      <i class="pi pi-bookmark"></i>
      <label for="title">Tytuł pytania</label>
      <span class="character-count">{{ titleLength }}/250</span>
    </div>
    <input
      id="title"
      type="text"
      pInputText
      formControlName="title"
      placeholder="Wprowadź tytuł pytania"
      [style]="{'width': '100%'}"
    />
    <div class="error-message" *ngIf="questionForm.get('title')?.invalid && questionForm.get('title')?.touched">
      <i class="pi pi-exclamation-circle"></i>
      Tytuł jest wymagany
    </div>
  </div>

  <div class="form-field">
    <div class="field-label">
      <i class="pi pi-tag"></i>
      <label for="tag">Tag</label>
    </div>
    <p-dropdown
      id="tag"
      [options]="tags"
      formControlName="tag"
      optionLabel="displayName"
      optionValue="id"
      placeholder="Wybierz tag"
      [style]="{'width': '100%'}"
    ></p-dropdown>
    <div class="error-message" *ngIf="questionForm.get('tag')?.invalid && questionForm.get('tag')?.touched">
      <i class="pi pi-exclamation-circle"></i>
      Wybierz kategorię
    </div>
  </div>

  <div class="form-field">
    <div class="field-label">
      <i class="pi pi-pencil"></i>
      <label for="content">Treść pytania</label>
      <span class="character-count">{{ contentLength }}/5000</span>
    </div>
    <textarea
      id="content"
      pInputTextarea
      formControlName="content"
      placeholder="Wprowadź treść pytania"
      [rows]="6"
      maxlength="5000"
      [style]="{'width': '100%'}"
    ></textarea>
    <div class="error-message" *ngIf="questionForm.get('content')?.invalid && questionForm.get('content')?.touched">
      <i class="pi pi-exclamation-circle"></i>
      Treść jest wymagana
    </div>
  </div>

  <div class="form-actions">
    <button pButton label="Anuluj" icon="pi pi-times" (click)="cancel()" class="p-button-text"></button>
    <button pButton label="Dodaj pytanie" icon="pi pi-check" type="submit" [disabled]="!questionForm.valid || submitting" class="p-button-outlined"></button>
  </div>
</form>
